(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{288:function(e,t,a){e.exports={person:"PersonInfo_person__275YF",person__wrapper:"PersonInfo_person__wrapper__HZz9p",photo:"PersonInfo_photo__1porq",status:"PersonInfo_status__2Laeu",person__input:"PersonInfo_person__input__1nEZl",info:"PersonInfo_info__2FGCV",btnEdit:"PersonInfo_btnEdit__1tKrS",person__name:"PersonInfo_person__name__2F9jI",person__job:"PersonInfo_person__job__3eywY",person__jobDescription:"PersonInfo_person__jobDescription__3MC1n",person__about:"PersonInfo_person__about__3wE6D",contacts__social:"PersonInfo_contacts__social__NAZ0U",contacts:"PersonInfo_contacts__3RJ5V",contacts__title:"PersonInfo_contacts__title__3tpFg"}},289:function(e,t,a){e.exports={posts:"MyPosts_posts__3Any1",posts__title:"MyPosts_posts__title__2BHmu",textarea:"MyPosts_textarea__2hs4b",btn:"MyPosts_btn__Rkzfy"}},290:function(e,t,a){e.exports={wrapper:"Post_wrapper__3BFOt",image:"Post_image__1z-yr",post__text:"Post_post__text__3A9mN",post__likesWrapper:"Post_post__likesWrapper__3dj2x",post__likes:"Post_post__likes__yCJIA",post__likesImg:"Post_post__likesImg__1qxHv"}},291:function(e,t,a){"use strict";a.r(t);var s=a(39),n=a(40),o=a(42),r=a(41),c=a(0),l=a.n(c),i=a(96),p=a(288),u=a.n(p),m=a(44),_=function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),s=a[0],n=a[1],o=Object(c.useState)(e.status),r=Object(i.a)(o,2),p=r[0],m=r[1];Object(c.useEffect)((function(){m(e.status)}),[e.status]);return l.a.createElement("div",{className:u.a.status},s?l.a.createElement("input",{type:"text",onChange:function(e){m(e.currentTarget.value)},onBlur:function(){n(!1),e.updateStatus(p)},value:p,autoFocus:!0}):l.a.createElement("div",null,l.a.createElement("span",null,"Status: "),l.a.createElement("span",{onDoubleClick:function(){n(!0)}},e.status||"---")))},f=a(127),b=a(27),d=a(129),E=a(15),v=a.n(E),h=Object(d.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,s=e.error;return l.a.createElement("form",{onSubmit:t},l.a.createElement("button",{className:v.a.btnSave},"Save"),s&&l.a.createElement("div",{className:v.a.formErrorSave},s),l.a.createElement("div",{className:v.a.name},"FullName: ",Object(b.c)(b.a,"fullName","Full name")),l.a.createElement("div",{className:v.a.job},"Looking for a job? ",Object(b.c)(b.a,"lookingForAJob",null,null,{type:"checkbox"})),l.a.createElement("div",{className:v.a.jobDescription},"Job description: ",Object(b.c)(b.b,"lookingForAJobDescription","Job description")),l.a.createElement("div",{className:v.a.about},"About me: ",Object(b.c)(b.b,"aboutMe","About me")),l.a.createElement("div",{className:v.a.contacts},l.a.createElement("h3",{className:v.a.contacts__title},"Contacts:"),l.a.createElement("div",null,Object.keys(a.contacts).map((function(e){return l.a.createElement("div",{className:v.a.contacts__social},e,": ",Object(b.c)(b.a,"contacts."+e,e))})))))})),P=function(e){var t=e.profile,a=e.isOwner,s=e.activateEditMode;return l.a.createElement("div",null,a&&l.a.createElement("button",{className:u.a.btnEdit,onClick:s},"Edit profile"),l.a.createElement("div",{className:u.a.person__name},l.a.createElement("span",null,"Name:")," ",t.fullName),l.a.createElement("div",{className:u.a.person__job},l.a.createElement("span",null,"Looking for a job?")," ",t.lookingForAJob?"Yes":"No"),l.a.createElement("div",{className:u.a.person__jobDescription},l.a.createElement("span",null,"Job description:")," ",t.lookingForAJob?t.lookingForAJobDescription:"No description"),l.a.createElement("div",{className:u.a.person__about},l.a.createElement("span",null,"About me:")," ",t.aboutMe),l.a.createElement("div",{className:u.a.contacts},l.a.createElement("h3",{className:u.a.contacts__title},"Contacts:"),l.a.createElement("div",null,Object.keys(t.contacts).map((function(e){return l.a.createElement(g,{contactTitle:e,contactValue:t.contacts[e],key:e})})))))},g=function(e){var t=e.contactTitle,a=e.contactValue;return l.a.createElement("div",{className:u.a.contacts__social},l.a.createElement("span",null,t,":")," ",a)},N=function(e){var t=e.profile,a=e.status,s=e.updateStatus,n=e.isOwner,o=e.savePhoto,r=e.saveProfile,p=Object(c.useState)(!1),b=Object(i.a)(p,2),d=b[0],E=b[1];if(!t)return l.a.createElement(m.a,null);return l.a.createElement("div",{className:u.a.person},l.a.createElement("div",{className:u.a.person__wrapper},l.a.createElement("img",{className:u.a.photo,src:t.photos.large||f.a,alt:""}),l.a.createElement("div",null,l.a.createElement(_,{status:a,updateStatus:s}),n&&l.a.createElement("input",{className:u.a.person__input,type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}}))),l.a.createElement("div",{className:u.a.info},d?l.a.createElement(h,{initialValues:t,profile:t,onSubmit:function(e){r(e).then((function(){E(!1)}))}}):l.a.createElement(P,{profile:t,isOwner:n,activateEditMode:function(){E(!0)}})))},j=a(95),k=a(19),O=a(289),I=a.n(O),y=a.p+"static/media/rose.bb352a7f.jpg",S=a.p+"static/media/heart.fb824694.svg",w=a(290),x=a.n(w),A=function(e){return l.a.createElement("div",{className:x.a.wrapper},l.a.createElement("img",{className:x.a.image,src:y,alt:""}),l.a.createElement("div",null,l.a.createElement("p",{className:x.a.post__text},e.message),l.a.createElement("div",{className:x.a.post__likesWrapper},l.a.createElement("span",{className:x.a.post__likes},e.likes),l.a.createElement("img",{className:x.a.post__likesImg,src:S,alt:""}))))},F=a(89),J=a(68),M=Object(J.a)(50),C=Object(d.a)({form:"ProfileAddNewPostForm"})((function(e){return l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement(F.a,{className:I.a.textarea,component:b.b,name:"newPostText",placeholder:"Hello",validate:[J.b,M]}),l.a.createElement("button",{className:I.a.btn},"Add"))})),D=l.a.memo((function(e){var t=e.posts.map((function(e){return l.a.createElement(A,{message:e.message,likes:e.likes,key:e.id})}));return l.a.createElement("div",{className:I.a.posts},l.a.createElement("h3",{className:I.a.posts__title},"My Posts"),t,l.a.createElement(C,{onSubmit:function(t){e.addPost(t.newPostText)}}))})),T=Object(k.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(j.a)(t))}}}))(D),U=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),l.a.createElement(T,null))},z=a(10),V=a(9),H=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return l.a.createElement(U,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))}}]),a}(l.a.Component);t.default=Object(V.d)(Object(k.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:j.d,getStatus:j.c,updateStatus:j.g,savePhoto:j.e,saveProfile:j.f}),z.g)(H)}}]);
//# sourceMappingURL=3.513e235c.chunk.js.map